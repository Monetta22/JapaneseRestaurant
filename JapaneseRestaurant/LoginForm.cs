using System;using System.Windows.Forms;namespace JapaneseRestaurant{public class LoginForm:Form{private TextBox txtUser=new(){Left=120,Top=30,Width=170,TabIndex=0};private TextBox txtPassword=new(){Left=120,Top=70,Width=170,UseSystemPasswordChar=true,TabIndex=1};private Button btnLogin=new(){Text="Iniciar sesión",Left=40,Top=120,Width=120,TabIndex=2};private Button btnCancel=new(){Text="Cancelar",Left=190,Top=120,Width=100,TabIndex=3};private Label lblMessage=new(){Left=20,Top=160,Width=270,ForeColor=System.Drawing.Color.DarkRed};private Services.UserService userService=new();public LoginForm(){Text="Inicio de Sesión";Width=340;Height=240;FormBorderStyle=FormBorderStyle.FixedDialog;MaximizeBox=false;StartPosition=FormStartPosition.CenterScreen;Controls.AddRange(new Control[]{new Label(){Text="Usuario:",Left=40,Top=30,Width=70},txtUser,new Label(){Text="Contraseña:",Left=40,Top=70,Width=70},txtPassword,btnLogin,btnCancel,lblMessage});AcceptButton=btnLogin;CancelButton=btnCancel;btnLogin.Click+=OnLogin;btnCancel.Click+=(_,__)=>Close();}private void OnLogin(object? sender,EventArgs e){lblMessage.Text="";var user=txtUser.Text.Trim();var pass=txtPassword.Text; if(string.IsNullOrWhiteSpace(user)){lblMessage.Text="Ingrese usuario";txtUser.Focus();return;} if(string.IsNullOrWhiteSpace(pass)){lblMessage.Text="Ingrese contraseña";txtPassword.Focus();return;} if(userService.ValidateUser(user,pass)){MessageBox.Show("Acceso concedido","OK",MessageBoxButtons.OK,MessageBoxIcon.Information);Hide();var main=new Form1();main.FormClosed+=(s,ev)=>Close();main.Show();}else{lblMessage.Text="Credenciales inválidas";}}}}